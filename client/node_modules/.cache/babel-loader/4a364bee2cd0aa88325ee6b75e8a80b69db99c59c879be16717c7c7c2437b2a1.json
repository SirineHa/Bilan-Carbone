{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\OneDrive\\\\Bureau\\\\Projet\\\\Bilan-Carbone\\\\client\\\\src\\\\components\\\\ResetPassword\\\\RequestReset.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./RequestReset.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const RequestReset = () => {\n  _s();\n  const navigate = useNavigate();\n  const [email, setEmail] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const handleResetPassword = async () => {\n    if (!email.match(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/)) {\n      setMessage(\"üö´ Veuillez entrer une adresse e-mail valide.\");\n      return;\n    }\n    setIsLoading(true);\n    setMessage(\"\");\n    try {\n      const response = await fetch(\"http://localhost:5000/forgot-password\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          email\n        })\n      });\n      const result = await response.json();\n      setMessage(result.message || \"‚úÖ V√©rifiez votre bo√Æte de r√©ception pour les instructions de r√©initialisation du mot de passe.\");\n    } catch (error) {\n      setMessage(`‚ùå ${error.message}`);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"request-reset-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"R\\xE9initialisation du mot de passe\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Veuillez entrer votre adresse e-mail pour recevoir les instructions de r\\xE9initialisation du mot de passe.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"email-input\",\n      type: \"email\",\n      placeholder: \"Adresse e-mail\",\n      value: email,\n      onChange: e => setEmail(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"submit-button\",\n      onClick: handleResetPassword,\n      disabled: isLoading,\n      children: isLoading ? \"‚è≥ Envoi en cours...\" : \"Envoyer les instructions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"message\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), message.startsWith(\"‚úÖ\") && /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"go-back-button\",\n      onClick: () => navigate(\"/login\"),\n      children: \"Retour \\xE0 la connexion\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(RequestReset, \"7xpPji1LQi/W/Xz7TbVul1dVhAk=\", false, function () {\n  return [useNavigate];\n});\n_c = RequestReset;\nvar _c;\n$RefreshReg$(_c, \"RequestReset\");","map":{"version":3,"names":["React","useState","useNavigate","jsxDEV","_jsxDEV","RequestReset","_s","navigate","email","setEmail","message","setMessage","isLoading","setIsLoading","handleResetPassword","match","response","fetch","method","headers","body","JSON","stringify","result","json","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","disabled","startsWith","_c","$RefreshReg$"],"sources":["C:/Users/HP/OneDrive/Bureau/Projet/Bilan-Carbone/client/src/components/ResetPassword/RequestReset.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./RequestReset.css\";\n\nexport const RequestReset = () => {\n  const navigate = useNavigate();\n  const [email, setEmail] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleResetPassword = async () => {\n    if (!email.match(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/)) {\n      setMessage(\"üö´ Veuillez entrer une adresse e-mail valide.\");\n      return;\n    }\n\n    setIsLoading(true);\n    setMessage(\"\");\n    try {\n      const response = await fetch(\"http://localhost:5000/forgot-password\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email }),\n      });\n\n      const result = await response.json();\n      setMessage(\n        result.message ||\n          \"‚úÖ V√©rifiez votre bo√Æte de r√©ception pour les instructions de r√©initialisation du mot de passe.\"\n      );\n    } catch (error) {\n      setMessage(`‚ùå ${error.message}`);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"request-reset-container\">\n      <h1>R√©initialisation du mot de passe</h1>\n      <p>\n        Veuillez entrer votre adresse e-mail pour recevoir les instructions de\n        r√©initialisation du mot de passe.\n      </p>\n      <input\n        className=\"email-input\"\n        type=\"email\"\n        placeholder=\"Adresse e-mail\"\n        value={email}\n        onChange={(e) => setEmail(e.target.value)}\n      />\n      <button\n        className=\"submit-button\"\n        onClick={handleResetPassword}\n        disabled={isLoading}\n      >\n        {isLoading ? \"‚è≥ Envoi en cours...\" : \"Envoyer les instructions\"}\n      </button>\n      <p className=\"message\">{message}</p>\n      {message.startsWith(\"‚úÖ\") && (\n        <button className=\"go-back-button\" onClick={() => navigate(\"/login\")}>\n          Retour √† la connexion\n        </button>\n      )}\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}